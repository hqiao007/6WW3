<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
     <meta name="viewport" content="width=device-width">
     <meta name="author" content="Hua QIAO">
     <title>A Restaurant Review Site | Welcome</title>
     <link rel="stylesheet" href="./css/style.css">
  </head>
  <body>
    <header>
      <div class="branding">
        <h1>Restaurant Review</h1>
      </div>
      <nav>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="login.html">Login</a></li>
            <li class="current"><a href="register.html">Register</a></li>
            <li><a href="AddNewObj.html">AddNew</a></li>
          </ul>
      </nav>
    </header>

    <div class="wrapper">

      <div class="M-register">
        <form class="bg-light" action="#" method="post" onsubmit="return validation()">
          <div class="form-group">
            <label>Username: </label><br>
            <input type="text" name="user" id="username" class="form-control" placeholder="username" autocomplete="off">
          </div>

          <div class="form-group">
            <label>Password: </label><br>
            <input type="password" name="user" id="password" class="form-control" value="123456" autocomplete="off">
          </div>

          <div class="form-group">
            <label>Confirm password: </label><br>
            <input type="password" name="user" id="passwordconfirm" class="form-control" value="123456" autocomplete="off">
          </div>

          <div class="form-group">
            <label>Gender: </label><br>
            <input type="radio" name="user" id="Male"  autocomplete="off"> Male
            <input type="radio" name="user" id="Female"  autocomplete="off"> Female
          </div>

          <div class="form-group">
            <label>Birthday: </label><br>
            <input type="date" name="user" id="birthday" class="form-control" autocomplete="off">
          </div>

          <div class="form-group">
            <label>Cell phone: </label><br>
            <input type="tel" name="user" id="phonenumber" class="form-control" placeholder="289-555-5555" autocomplete="off">
          </div>

          <div class="form-group">
            <label>Email: </label><br>
            <input type="text" name="user" id="email" class="form-control" placeholder="xxx@xxx.xxx" autocomplete="off">
          </div>

          <input type="submit" name="submit" value="submit" class="btn btn-success">
        </form>
        <div id="eresult"></div>


      </div>
    </div>
    <script type="text/javascript">
      function validation(){
        var error=0;
        var userN=document.getElementById('username').value;
        var pword=document.getElementById('password').value;
        var pwordcon=document.getElementById('passwordconfirm').value;

        var birth=document.getElementById('birthday').value;
        var phonenum=document.getElementById('phonenumber').value;
        var email=document.getElementById('email').value;

        if(userN == ""||pword==""||pwordcon==""||phonenum==""||email=="")
        {
          alert("Check the input, all fields are required .....!");
          error++;
        }
        if(userN.length<=3||userN.length>20)
        {
          alert("Please check your username (3-20 characters required) .....!");
          error++;
        }
        if(pword.length<6||pwordcon.length<6)
        {
          alert("Password should have at least 6 characters .....!");
          error++;
        }
        if(pword!=pwordcon)
        {
          alert("Password are not matching.....!");
          error++;
        }
        if(!document.getElementById('Male').checked&&!document.getElementById('Female').checked)
        {
          alert("Check your gender.....!");
          error++;
        }

        // check date of birth
        var dt = new Date(birth);
        if ( !!dt.valueOf() ) {
            year = dt.getFullYear();
            if (year<1930||year>2018)
            {
              alert("Please check your date of birth.....!");
              error++;
            }
        }
        // check email and phone number using regular expression
        var emailReg = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,20}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,20}[a-zA-Z0-9])?)*$/i;
        var phoneReg = /^[2-9]\d{2}-\d{3}-\d{4}$/;
        if (!email.match(emailReg))
        {
          alert("Invalid email address, Check!");
          error++;
        }
        if (!phonenum.match(phoneReg))
        {
          alert("Invalid phone number: format allowed as '289-775-2333' !");
          error++;
        }

        if (error>=1)
        {
          alert("Too mang errors, Check!");
          return false;
        }
        else
        {
          return true;
        }
      }
    </script>

    <footer>
      <p>6WW3 course project, Hua QIAO; 2019</p>
    </footer>
  </body>
</html>
